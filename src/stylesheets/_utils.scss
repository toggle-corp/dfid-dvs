// Newton's method for calculation of square roots
@function sqrt($r) {
    $x0: 1;
    $x1: $x0;

    @for $i from 1 through 10 {
        $x1: $x0 - ($x0 * $x0 - abs($r)) / (2 * $x0);
        $x0: $x1;
    }

    @return $x1;
}

@function get-luminance($color) {
    $r: red($color);
    $g: green($color);
    $b: blue($color);
    $l: sqrt(.299 * $r * $r + .587 * $g * $g + .114 * $b * $b);
    @return $l;
}

@function get-text-color($background-color) {
    $l: get-luminance($background-color);
    @if ($l > 128) {
        @return $color-text-on-light;
    }

    @return $color-text-on-dark;
}

@mixin shadow-medium() {
    box-shadow: 0 2px 10px -3px $color-shadow-normal;
}

@mixin shadow-small() {
    box-shadow: 0 1px 7px -2px $color-shadow-normal;
}

@mixin shadow-small-upward() {
    box-shadow: 0 -1px 7px -2px $color-shadow-normal;
}

@mixin shadow-large-upward() {
    box-shadow: 0 -3px 15px -5px $color-shadow-normal;
}

@mixin shadow-large() {
    box-shadow: 0 3px 15px -5px $color-shadow-normal;
}

@mixin shadow-large-dark() {
    box-shadow: 0 3px 15px -5px $color-shadow-dark;
}

